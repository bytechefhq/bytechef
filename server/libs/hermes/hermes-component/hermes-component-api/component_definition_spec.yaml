info:
  title: Component Definition Specification
  description: Component Definition structs.
  version: v1
schemas:
  ActionDefinition:
    description: An action is a a portion of reusable code that accomplish a specific task. When building a workflow, each action is represented as a task inside the workflow. The task 'type' property is defined as [component name]/v[component version]/[action name]. Action properties are used to set properties of the task inside the workflow.
    type: object
    properties:
      display:
        $ref: '../../hermes-api/definition_spec.yaml#/schemas/Display'
      exampleOutput:
        description: The example of the action's output.
        type: object
      metadata:
        description: Additional data that can be used during processing.
        type: object
        additionalProperties:
          type: object
          items:
            type: object
      name:
        description: The action name.
        type: string
      output:
        description: The output schema of an execution result.
        type: array
        items:
          oneOf:
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/AnyProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/ArrayProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/BooleanProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/DateProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/DateTimeProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/IntegerProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/NullProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/NumberProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/ObjectProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/StringProperty'
      properties:
        description: The list of action properties.
        type: array
        items:
          oneOf:
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/AnyProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/ArrayProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/BooleanProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/DateProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/DateTimeProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/IntegerProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/NullProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/NumberProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/StringProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/ObjectProperty'
      performFunction:
        description: Contains information required for a connection's authorization.
        type: object
  Authorization:
    description: Contains information required for a connection's authorization.
    type: object
    properties:
      display:
        $ref: '../../hermes-api/definition_spec.yaml#/schemas/Display'
      name:
        description: The authorization name.
        type: string
      properties:
        description: Properties of the connection.
        type: array
        items:
          oneOf:
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/ArrayProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/BooleanProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/DateProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/DateTimeProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/IntegerProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/NumberProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/ObjectProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/StringProperty'
      type:
        $ref: '#/schemas/AuthorizationType'
  AuthorizationType:
    description: Authorization type.
    type: string
    enum:
      - API_KEY
      - BASIC_AUTH
      - BEARER_TOKEN
      - CUSTOM
      - DIGEST_AUTH
      - OAUTH2_AUTHORIZATION_CODE
      - OAUTH2_CLIENT_CREDENTIALS
  ComponentDefinition:
    description: A component contains a set of reusable code(actions) that accomplish specific tasks, triggers(TODO) and connections if there is a need for a connection to an outside service.
    type: object
    properties:
      actions:
        description: The list of all available actions the component can perform.
        type: array
        items:
          $ref: '#/schemas/ActionDefinition'
      connection:
        $ref: '#/schemas/ConnectionDefinition'
      display:
        $ref: '#/schemas/ComponentDisplay'
      metadata:
        description: Additional data that can be used during processing.
        type: object
        additionalProperties:
          type: object
          items:
            type: object
      name:
        description: The connection name.
        type: string
      resources:
        $ref: '../../hermes-api/definition_spec.yaml#/schemas/Resources'
      version:
        type: number
        format: double
  ComponentDisplay:
    description: A display information about the component.
    type: object
    allOf:
      - $ref: '../../hermes-api/definition_spec.yaml#/schemas/Display'
      - type: object
        properties:
          category:
            description: The category of the component.
            type: string
          subtitle:
            description: Additional explanation.
            type: string
          tags:
            description: Tags for the component.
            type: array
            items:
              type: string
  ConnectionDefinition:
    description: A connection to an outside service.
    type: object
    properties:
      authorizations:
        type: array
        items:
          $ref: '#/schemas/Authorization'
      componentName:
        description: The name of a connection this connection can be used for.
        type: string
      display:
        $ref: '../../hermes-api/definition_spec.yaml#/schemas/Display'
      properties:
        description: Properties of the connection.
        type: array
        items:
          oneOf:
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/ArrayProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/BooleanProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/DateProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/DateTimeProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/IntegerProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/NumberProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/ObjectProperty'
            - $ref: '../../hermes-api/definition_spec.yaml#/schemas/StringProperty'
      resources:
        $ref: '../../hermes-api/definition_spec.yaml#/schemas/Resources'
      subtitle:
        description: Additional explanation.
        type: string
      version:
        type: integer
        format: int32
  JdbcComponentDefinition:
    description: A definition of component used for building JDBC based components. The deinition is transformed into fully component definition.
    type: object
    properties:
      databaseJdbcName:
        description: The connection name.
        type: string
      jdbcDriverClassName:
        description: Database type name used when defining a jdbc url.
        type: string
      display:
        $ref: '#/schemas/ComponentDisplay'
      name:
        description: The connection name.
        type: string
      resources:
        $ref: '../../hermes-api/definition_spec.yaml#/schemas/Resources'
      version:
        type: number
        format: double
