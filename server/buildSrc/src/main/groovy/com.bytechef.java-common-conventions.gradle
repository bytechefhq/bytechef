/*
 * This file was generated by the Gradle "init" task.
 */

plugins {
    id "idea"
    id "jacoco"
    id "java"
    id "maven-publish"
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java
        }
    }
}

repositories {
    mavenLocal()

    mavenCentral()

    maven { url "https://repo.spring.io/release" }
}

dependencies {
    constraints {
        implementation libs.java.jq
        implementation libs.jackson.dataformat.xml
        implementation libs.jackson.dataformat.yaml
        implementation libs.sods
        implementation libs.json.path
        implementation libs.commons.io
        implementation libs.commons.exec
        implementation libs.tika.core
        implementation libs.poi.ooxml
        implementation libs.jgit
        implementation libs.json
        implementation libs.jobrunr
        implementation libs.jobrunr.spring.boot.starter
        implementation libs.zt.exec
        implementation libs.awssdk.s3

        runtimeOnly libs.testcontainers.postgresql

        testRuntimeOnly libs.testcontainers.postgresql
    }
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(17)
    }
}

tasks.named("test") {
    // Use JUnit Platform for unit tests.
    useJUnitPlatform()
}

