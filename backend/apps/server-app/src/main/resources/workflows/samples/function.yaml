label: Function Demo

inputs:
  - name: yourName
    label: Your Name
    type: string
    required: true

tasks:
  - name: randomNumber
    label: Generate a random number
    type: randomHelper/v1/randomInt
    startInclusive: 0
    endInclusive: 5000
  - name: function1
    type: function/v1/javascript
    input:
      randomNum : ${randomNumber}
      randomInput: ${yourName}
    script: >
      function perform(input) {
        print('My random number ' + input.randomNum);
        print('My random input ' + input.randomInput);
        print('My random input x ' + input.randomInputX);

        return 2 * input.randomNum;
      }
  - label: Print result from the JavaScript script
    type: logger/v1/info
    text: 'Result from function1: ${function1}'
  - name: function2
    type: function/v1/python
    input:
      randomNum : ${randomNumber}
      randomInput: ${yourName}
    script: >
      def perform(input):
        print('My random number ' + str(input.randomNum))
        print('My random input ' + input.randomInput)
        print('My random input x ' + ('undefined' if hasattr(input, 'randomInputX') == False else input.randomInputX))

        return 2 * input.randomNum
  - label: Print result from the Python script
    type: logger/v1/info
    text: 'Result from function2: ${function2}'
  - name: function3
    type: function/v1/r
    input:
      randomNum: ${randomNumber}
      randomInput: ${yourName}
    script: >
      perform <- function(input) {
        return (2 * input$randomNum)
      }
  - label: Print result from the R script
    type: logger/v1/info
    text: 'Result from function3: ${function3}'
  - name: function4
    type: function/v1/ruby
    input:
      randomNum : ${randomNumber}
      randomInput: ${yourName}
    script: >
      def perform(input)
        return 2 * input.randomNum;
      end
  - label: Print result from the Ruby script
    type: logger/v1/info
    text: 'Result from function4: ${function4}'
