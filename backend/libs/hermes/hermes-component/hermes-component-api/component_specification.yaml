components:
  schemas:
    AnyProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/TypeProperty'
      properties:
        required:
          type: boolean
        types:
          type: array
          items:
            $ref: '#/components/schemas/TypeProperty'
    ArrayProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/ValueProperty'
      properties:
        defaultValue:
          type: array
          items:
            type: object
        items:
          type: array
          items:
            $ref: '#/components/schemas/TypeProperty'
        exampleValue:
          type: array
          items:
            type: object
    BooleanProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/PrimitiveValueProperty'
    ComponentDefinition:
      type: object
      properties:
        connections:
          type: array
          items:
            $ref: '#/components/schemas/ConnectionDefinition'
        display:
          $ref: '#/components/schemas/ComponentDisplay'
        name:
          type: string
        actions:
          type: array
          items:
            $ref: '#/components/schemas/ComponentAction'
        resources:
          $ref: '#/components/schemas/Resources'
        version:
          type: number
          format: double
    ComponentDisplay:
      type: object
      allOf:
        - $ref: '#/components/schemas/Display'
      properties:
        category:
          type: string
        subtitle:
          type: string
        tags:
          type: array
          items:
            type: string
    ComponentAction:
      type: object
      properties:
        display:
          $ref: '#/components/schemas/Display'
        name:
          type: string
        inputs:
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/AnyProperty'
              - $ref: '#/components/schemas/ArrayProperty'
              - $ref: '#/components/schemas/BooleanProperty'
              - $ref: '#/components/schemas/DateTimeProperty'
              - $ref: '#/components/schemas/IntegerProperty'
              - $ref: '#/components/schemas/NullProperty'
              - $ref: '#/components/schemas/NumberProperty'
              - $ref: '#/components/schemas/ObjectProperty'
              - $ref: '#/components/schemas/OptionProperty'
              - $ref: '#/components/schemas/StringProperty'
        exampleOutput:
          type: object
        outputSchema:
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/AnyProperty'
              - $ref: '#/components/schemas/ArrayProperty'
              - $ref: '#/components/schemas/BooleanProperty'
              - $ref: '#/components/schemas/DateTimeProperty'
              - $ref: '#/components/schemas/IntegerProperty'
              - $ref: '#/components/schemas/NullProperty'
              - $ref: '#/components/schemas/NumberProperty'
              - $ref: '#/components/schemas/ObjectProperty'
              - $ref: '#/components/schemas/OptionProperty'
              - $ref: '#/components/schemas/StringProperty'
    ConnectionDefinition:
      type: object
      properties:
        display:
          $ref: '#/components/schemas/Display'
        name:
          type: string
        properties:
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/AnyProperty'
              - $ref: '#/components/schemas/ArrayProperty'
              - $ref: '#/components/schemas/BooleanProperty'
              - $ref: '#/components/schemas/DateTimeProperty'
              - $ref: '#/components/schemas/IntegerProperty'
              - $ref: '#/components/schemas/NumberProperty'
              - $ref: '#/components/schemas/ObjectProperty'
              - $ref: '#/components/schemas/OptionProperty'
              - $ref: '#/components/schemas/StringProperty'
        resources:
          $ref: '#/components/schemas/Resources'
        subtitle:
          type: string
        version:
          type: integer
          format: int32
    Connections:
      type: object
      properties:
        connections:
          type: array
          items:
            $ref: '#/components/schemas/ConnectionDefinition'
        name:
          type: string
        version:
          type: integer
          format: int32
    DateTimeProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/PrimitiveValueProperty'
    Display:
      type: object
      properties:
        description:
          type: string
        icon:
          type: string
        label:
          type: string
    DisplayOption:
      type: object
      properties:
        hideWhen:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/DisplayOptionEntryValue'
        showWhen:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/DisplayOptionEntryValue'
    DisplayOptionEntryValue:
      type: object
      properties:
        type:
          $ref: '#/components/schemas/PropertyType'
        values:
          type: array
          items:
            type: object
    EditorType:
      type: string
      enum:
        - CODE
    IntegerProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/PrimitiveValueProperty'
      properties:
        maxValue:
          type: integer
          format: int32
        minValue:
          type: integer
          format: int32
    NullProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/Property'
    NumberProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/PrimitiveValueProperty'
      properties:
        maxValue:
          type: integer
          format: int32
        minValue:
          type: integer
          format: int32
        numberPrecision:
          type: integer
          format: int32
    ObjectProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/ValueProperty'
      properties:
        additionalProperties:
          type: boolean
        properties:
          type: array
          items:
            $ref: '#/components/schemas/TypeProperty'
        exampleValue:
          type: object
        defaultValue:
          type: object
    OptionProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/Property'
      properties:
        multipleValues:
          type: boolean
        options:
          type: array
          items:
            $ref: '#/components/schemas/Property'
    PrimitiveValueProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/ValueProperty'
      properties:
        options:
          type: array
          items:
            $ref: '#/components/schemas/PropertyOption'
    Property:
      type: object
      properties:
        description:
          type: string
        displayOption:
          $ref: '#/components/schemas/DisplayOption'
        label:
          type: string
        name:
          type: string
        placeholder:
          type: string
        type:
          $ref: '#/components/schemas/PropertyType'
    #      discriminator:
    #        propertyName: type
    PropertyOption:
      type: object
      properties:
        description:
          type: string
        displayOption:
          $ref: '#/components/schemas/DisplayOption'
        name:
          type: string
        value:
          oneOf:
            - type: integer
              format: int32
            - type: string
    PropertyType:
      type: string
      enum:
        - ANY
        - ARRAY
        - BOOLEAN
        - DATE_TIME
        - INTEGER
        - NULL
        - NUMBER
        - OBJECT
        - OPTION
        - STRING
    Resources:
      type: object
      properties:
        documentationUrl:
          type: string
    StringProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/PrimitiveValueProperty'
      properties:
        editorType:
          $ref: '#/components/schemas/EditorType'
    TypeProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/Property'
      properties:
        required:
          type: boolean
    ValueProperty:
      type: object
      allOf:
        - $ref: '#/components/schemas/TypeProperty'
      properties:
        defaultValue:
          type: object
        exampleValue:
          type: object
        loadOptionsDependsOn:
          type: array
          items:
            type: string
        loadOptionsMethod:
          type: string
